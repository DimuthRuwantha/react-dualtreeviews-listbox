(this["webpackJsonpreact-dualtreeviews-listbox-example"]=this["webpackJsonpreact-dualtreeviews-listbox-example"]||[]).push([[0],{13:function(e,t,i){e.exports=i(22)},14:function(e,t,i){},21:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);i(14);var n=i(0),d=i.n(n),o=i(9),a=i.n(o),l=i(12),s=i(24),r=i(25),c=i(26),h=i(27),f=i(10);function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u={margin:{margin:"5px"},fixedcard:{minHeight:"400px",maxHeight:"400px",padding:"10px",overflowY:"auto",background:"Grey",color:"White"},buttonWidth:{width:"50px",margin:"5px"},nopadding:{"padding-left":"0px"}},N=function(e){var t,i;function n(t){var i;return(i=e.call(this,t)||this).handleLeftNodeClick=function(e){"root"!==e.id&&i.setState({selected:e,selectedLeft:e,selectedRight:null})},i.handleRightNodeClick=function(e){"root"!==e.id&&i.setState({selected:e,selectedRight:e,selectedLeft:null})},i.moveToSelected=function(e){if(i.state.selectedLeft){var t=i.state.selectedList,n=i.state.selected,d=i.findPath(i.state.list,n);if(console.log("path",d),d.pop(),d.map((function(e){var n=i.findNode(i.state.list,e);if(!i.findNode(t,e)){var d=i.CloneObject(n);d.childNodes.length=0,i.addNode(t,d)}})),i.findNode(t,n.id))i.findNode(i.state.list,n.id).childNodes.map((function(e){i.addNode(t,e)}));else i.addNode(t,n);var o=i.removeNode(i.state.list,n);i.setState({list:o,selectedList:t}),i.props.onnodemoved&&i.props.onnodemoved([].concat(t))}},i.moveAllToRight=function(e){i.setState({selectedList:JSON.parse(JSON.stringify(i.props.tree)),list:[]})},i.movedAllToLeft=function(e){i.setState({list:JSON.parse(JSON.stringify(i.props.tree)),selectedList:[]})},i.state={list:t.tree?i.CloneObject(t.tree):[],selected:null,selectedLeft:null,selectedRight:null,selectedList:[]},i.handleLeftNodeClick=i.handleLeftNodeClick.bind(p(i)),i.handleRightNodeClick=i.handleRightNodeClick.bind(p(i)),i.moveToSelected=i.moveToSelected.bind(p(i)),i.moveToNotSelected=i.moveToNotSelected.bind(p(i)),i.moveAllToRight=i.moveAllToRight.bind(p(i)),i.movedAllToLeft=i.movedAllToLeft.bind(p(i)),i}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=n.prototype;return o.CloneObject=function(e){return e?JSON.parse(JSON.stringify(e)):null},o.removeNode=function(e,t){var i=e;if(t.parentNode){if(parent=this.findParent(i,t),parent){var n,d=parent.childNodes.filter((function(e){return e.id!==t.id}));if(console.log(d),0===d.length)i=this.removeNode(i,parent);else parent.childNodes.length=0,(n=parent.childNodes).push.apply(n,d)}}else i=e.filter((function(e){return e.id!==t.id}));return i},o.findParent=function(e,t){var i=t.parentNode;return this.findNode(e,i)},o.findNode=function(e,t){for(var i,n=0;n<e.length;n++){var d=e[n];if(d.id===t){i=d;break}if(i=this.findNode(d.childNodes,t))break}return i},o.findPath=function(e,t){var i=[];return i.push(t.id),this.pushParent(e,t,i),i.reverse(),i},o.pushParent=function(e,t,i){var n=this.findParent(e,t);n&&(i.push(n.id),this.pushParent(e,n,i))},o.addNode=function(e,t){if(this.findNode(e,t.id));else{var i=this.findParent(e,t);if(i){var n=i.childNodes.find((function(e){return e.id===t.id}));console.log(n),n||(console.log("node to be added",i),i.childNodes.push(this.CloneObject(t)))}else console.log("node not here so adding"),e.push(this.CloneObject(t))}},o.moveToNotSelected=function(){var e=this;if(this.state.selectedRight){var t=this.state.list,i=this.state.selectedList,n=this.state.selected,d=this.findPath(i,n);if(d.pop(),d.map((function(n){var d=e.findNode(e.state.list,n),o=e.findNode(i,n);if(!d){var a=e.CloneObject(o);a.childNodes.length=0,e.addNode(t,a)}})),this.findNode(t,n.id))this.findNode(i,n.id).childNodes.map((function(i){e.addNode(t,i)}));else this.addNode(t,n);i=this.removeNode(i,n),this.setState({list:t,selectedList:i}),this.props.onnodemoved&&this.props.onnodemoved([].concat(i))}},o.render=function(){return d.a.createElement("div",{className:"container"},d.a.createElement(s.a,{className:"margin"},d.a.createElement(r.a,{md:5},d.a.createElement(c.a,{style:u.fixedcard},d.a.createElement(f.a,{key:"root",id:"root",data:this.state.list,title:"Orgazations",open:!0,onClick:this.handleLeftNodeClick}))),d.a.createElement(r.a,{md:1,className:"align-self-center nopadding"},d.a.createElement("div",{className:"text-center"},d.a.createElement(h.a,{style:u.buttonWidth,onClick:this.moveToSelected}," > "),d.a.createElement(h.a,{style:u.buttonWidth,onClick:this.moveAllToRight}," >> "),d.a.createElement(h.a,{style:u.buttonWidth,onClick:this.moveToNotSelected}," <"),d.a.createElement(h.a,{style:u.buttonWidth,onClick:this.movedAllToLeft}," << "))),d.a.createElement(r.a,{md:5},d.a.createElement(c.a,{style:u.fixedcard},d.a.createElement(f.a,{id:"root",key:"root",data:this.state.selectedList,title:"Selected nodes",onClick:this.handleRightNodeClick})))))},n}(d.a.Component),m=function(e){var t=e.data,i=e.onnodemoved;return d.a.createElement(N,{tree:t,onnodemoved:i})},v=(i(21),[{title:"Sri Lanka",id:"1",parentNode:null,childNodes:[{title:"Western Province",id:"11",parentNode:"1",childNodes:[{title:"Colombo District",id:"111",parentNode:"11",childNodes:[]},{title:"Gampaha District",id:"112",parentNode:"11",childNodes:[]},{title:"Kaluthara District",id:"113",parentNode:"11",childNodes:[]}]},{title:"Central Province",id:"12",parentNode:"1",childNodes:[{parentNode:"12",childNodes:[],title:"Kandy",id:"121"}]}]},{title:"India",id:"2",childNodes:[{title:"Maharashtra",id:"21",parentNode:"2",childNodes:[{title:"Pune",id:"211",parentNode:"21",childNodes:[]}]}]}]),g=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),i=t[0],o=t[1];return d.a.createElement("div",null,d.a.createElement(m,{data:v,onnodemoved:function(e){return o(e)}}),d.a.createElement("pre",null,JSON.stringify(i,void 0,2)))};a.a.render(d.a.createElement(g,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.8fd591e5.chunk.js.map